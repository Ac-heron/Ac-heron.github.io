<html>
<head>
	
	<title>Code Review 工具Phabricator安装配置及使用教程</title>
	<meta name="keywords" content="Acheron,blog,博客,代码,技术,书法,读书" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
        
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
    
        
<script src="/js/util.js"></script>

        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3"/>
    
    

<meta name="generator" content="Hexo 6.3.0"></head>

<body>


<h2 class="title">Code Review 工具Phabricator安装配置及使用教程</h2>

<div style="text-align:center;margin-top: -10px;">
<div class="article-category" style="text-align:right;">

2017年12月31日




<!--  -->
 </div>

</div>

<!-- <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Phabricator%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">Phabricator是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E7%B1%BB%E5%B7%A5%E5%85%B7"><span class="toc-text">同类工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%A6%81%E6%B1%82"><span class="toc-text">安装要求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85"><span class="toc-text">开始安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Phabricator%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE"><span class="toc-text">1. Phabricator安装及配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Apache%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE"><span class="toc-text">2. Apache安装及配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Mysql%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE"><span class="toc-text">3. Mysql安装及配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Nginx%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE"><span class="toc-text">4. Nginx安装及配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%85%A5%E9%97%A8"><span class="toc-text">使用入门</span></a></li></ol> -->
<h2 id="Phabricator是什么"><a href="#Phabricator是什么" class="headerlink" title="Phabricator是什么"></a>Phabricator是什么</h2><p>在官网上，Phabricator被描述成一个完整的软件开发平台，说通俗点，其实就是一种Code Review工具。官网地址：<a href="https://www.phacility.com/">https://www.phacility.com/</a></p>
<h2 id="同类工具"><a href="#同类工具" class="headerlink" title="同类工具"></a>同类工具</h2><ul>
<li>Gerrit：<a href="https://www.gerritcodereview.com/">https://www.gerritcodereview.com/</a></li>
<li>Bitbucket：<a href="https://bitbucket.org/product">https://bitbucket.org/product</a></li>
<li>ReviewBoard：<a href="https://www.reviewboard.org/">https://www.reviewboard.org/</a></li>
<li>FishEye：<a href="https://www.atlassian.com/software/fisheye">https://www.atlassian.com/software/fisheye</a></li>
<li>Upsource：<a href="https://www.jetbrains.com/upsource/">https://www.jetbrains.com/upsource/</a></li>
<li>Sonarqube：<a href="https://www.sonarqube.org/">https://www.sonarqube.org/</a></li>
</ul>
<h2 id="安装要求"><a href="#安装要求" class="headerlink" title="安装要求"></a>安装要求</h2><p>安装Phabricator时，要注意的一点就是Mysql和php的版本要求。另外因为其是Php写的，所以一个基本的环境就是<code>LAMP</code>环境。下面是官网列出的一些需要安装的环境：</p>
<ul>
<li>MySQL: You need MySQL. We strongly recommend MySQL 5.5 or newer.</li>
<li>PHP: You need PHP 5.2 or newer.</li>
<li>git (usually called “git” in package management systems)</li>
<li>Apache (usually “httpd” or “apache2”) (or nginx)</li>
<li>MySQL Server (usually “mysqld” or “mysql-server”)</li>
<li>PHP (usually “php”)</li>
<li>Required PHP extensions: mbstring, iconv, mysql (or mysqli), curl, pcntl (these might be something like “php-mysql” or “php5-mysql”)</li>
<li>Optional PHP extensions: gd, apc (special instructions for APC are available below if you have difficulty installing it), xhprof (instructions below, you only need this if you are developing Phabricator)</li>
</ul>
<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><h3 id="1-Phabricator安装及配置"><a href="#1-Phabricator安装及配置" class="headerlink" title="1. Phabricator安装及配置"></a>1. Phabricator安装及配置</h3><ul>
<li><p>建一个安装目录：mkdir phabricator</p>
</li>
<li><p>进入这个目录，获取Phabricatort和它的安装包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cd somewhere/ # pick some install directory</span><br><span class="line">somewhere/ $ git clone https://github.com/phacility/libphutil.git</span><br><span class="line">somewhere/ $ git clone https://github.com/phacility/arcanist.git</span><br><span class="line">somewhere/ $ git clone https://github.com/phacility/phabricator.git</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">phabricator/ $ ./bin/config set mysql.host value</span><br><span class="line">phabricator/ $ ./bin/config set mysql.port value</span><br><span class="line">phabricator/ $ ./bin/config set mysql.user value</span><br><span class="line">phabricator/ $ ./bin/config set mysql.pass value</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="2-Apache安装及配置"><a href="#2-Apache安装及配置" class="headerlink" title="2. Apache安装及配置"></a>2. Apache安装及配置</h3><p>vim &#x2F;etc&#x2F;httpd&#x2F;conf&#x2F;httpd.conf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> ServerName 192.168.1.209</span><br><span class="line">&lt;VirtualHost *&gt;</span><br><span class="line">  # Change this to the domain which points to your host.</span><br><span class="line"></span><br><span class="line">  # Change this to the path where you put &#x27;phabricator&#x27; when you checked it</span><br><span class="line">  # out from GitHub when following the Installation Guide.</span><br><span class="line">  #</span><br><span class="line">  # Make sure you include &quot;/webroot&quot; at the end!</span><br><span class="line">  DocumentRoot /opt/data/phabricator/phabricator/webroot</span><br><span class="line"></span><br><span class="line">  RewriteEngine on</span><br><span class="line">  RewriteRule ^(.*)$          /index.php?__path__=$1  [B,L,QSA]</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">&lt;Directory &quot;/opt/data/phabricator/phabricator/webroot&quot;&gt;</span><br><span class="line">  Order allow,deny</span><br><span class="line">  Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">~</span><br></pre></td></tr></table></figure>

<p>&#x2F;etc&#x2F;init.d&#x2F;httpd start</p>
<h3 id="3-Mysql安装及配置"><a href="#3-Mysql安装及配置" class="headerlink" title="3. Mysql安装及配置"></a>3. Mysql安装及配置</h3><h3 id="4-Nginx安装及配置"><a href="#4-Nginx安装及配置" class="headerlink" title="4. Nginx安装及配置"></a>4. Nginx安装及配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">erver &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line">    root        /opt/data/phabricator/phabricator/webroot;</span><br><span class="line"></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            #root   html;</span><br><span class="line">            #index  index.html index.htm;</span><br><span class="line">             index index.php;</span><br><span class="line">        rewrite ^/(.*)$ /index.php?__path__=/$1 last;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>.&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx</p>
<h2 id="使用入门"><a href="#使用入门" class="headerlink" title="使用入门"></a>使用入门</h2><p>启动后，界面没反应，要开启daemons<br><a href="https://secure.phabricator.com/book/phabricator/article/managing_daemons/">https://secure.phabricator.com/book/phabricator/article/managing_daemons/</a></p>


<!--<a href="http://ac-heron.github.io/myblogs/2017/CodeReview%E5%B7%A5%E5%85%B7Phabricator%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8/#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=&web_id=" language="JavaScript"></script>script>
</div>






</body>
</html>