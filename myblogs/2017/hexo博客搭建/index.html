<html>
<head>
	
	<title>搭建Hexo博客</title>
	<meta name="keywords" content="Acheron,blog,博客,代码,技术,书法,读书" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    

        
<link rel="stylesheet" href="/css/bootstrap.min.css">

        
<link rel="stylesheet" href="/css/bootstrap-theme.min.css">



	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
    
        
<script src="/js/util.js"></script>

        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3"/>
    
    

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
<nav class="navbar navbar-inverse navbar-fixed-top" style="opacity: .9" role="navigation">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">HeroHuang&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav nav-tabs navbar-right">
            
                
                    <li >
                        <a href="/"> 首页</a>
                    </li>
                
                    <li >
                        <a href="/myblogs/read"> 读书</a>
                    </li>
                
                    <li >
                        <a href="/myblogs/shufa"> 书法</a>
                    </li>
                
                    <li >
                        <a href="/myblogs/code"> 代码</a>
                    </li>
                
                    <li >
                        <a href="/myblogs/life"> 生活</a>
                    </li>
                
                    <li >
                        <a href="/myblogs/about"> 我是</a>
                    </li>
                
            
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>


<br/>


<h2 class="title">搭建Hexo博客</h2>

<div style="text-align:center;margin-top: -10px;">
<div class="article-category" style="text-align:right;">

2017年12月31日




<!--  -->
 </div>

</div>

<!-- <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo"><span class="toc-text">Hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E9%83%A8%E7%BD%B2"><span class="toc-text">开始部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8D%A2%E4%B8%BB%E9%A2%98"><span class="toc-text">换主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Github-pages-%E5%B9%B6-SSH-%E6%8E%88%E6%9D%83"><span class="toc-text">创建 Github pages 并 SSH 授权</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%8A%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E5%90%8C%E6%AD%A5%E5%88%B0-Github-%E4%B8%8A"><span class="toc-text">把本地的博客内容同步到 Github 上</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%8D%9A%E5%AE%A2%EF%BC%8C%E6%B3%A8%E6%84%8F%EF%BC%9A%E6%AF%8F%E4%B8%AA%E5%86%92%E5%8F%B7%E5%90%8E%E9%9D%A2%E9%83%BD%E6%98%AF%E6%9C%89%E4%B8%80%E4%B8%AA%E7%A9%BA%E6%A0%BC%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%8D%E4%B9%A6%E5%86%99%E8%87%AA%E5%B7%B1%E7%9A%84%E5%86%85%E5%AE%B9%E7%9A%84"><span class="toc-text">设置博客，注意：每个冒号后面都是有一个空格，然后再书写自己的内容的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#URL%E8%A6%81%E8%AE%BE%E7%BD%AE%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D%E7%9A%84%EF%BC%8C%E8%BF%99%E9%87%8C%E5%86%99%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="toc-text">URL要设置绑定域名的，这里写域名信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Deployment"><span class="toc-text">Deployment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D"><span class="toc-text">绑定域名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%91%E7%9A%84%E6%96%87%E7%AB%A0%E6%96%B9%E6%A1%88"><span class="toc-text">我的文章方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%96%B9%E6%A1%88"><span class="toc-text">图片方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hexo%E6%9C%AC%E8%BA%AB%E9%85%8D%E7%BD%AE-config%E4%BF%AE%E6%94%B9%E7%82%B9"><span class="toc-text">hexo本身配置__config修改点</span></a></li></ol> -->
<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>Hexo官网：<a href="http://hexo.io/zh-cn/">http://hexo.io/zh-cn/</a></p>
<h2 id="开始部署"><a href="#开始部署" class="headerlink" title="开始部署"></a>开始部署</h2><ul>
<li>安装hexo：cnpm install -g hexo-cli</li>
<li>创建 Hexo 项目:mkdir hexo</li>
<li>进入该目录：cd hexo</li>
<li>初始化：hexo init</li>
<li>执行：cnpm install</li>
<li>安装完成后，启动服务：hexo server</li>
<li>访问：<a href="http://localhost:4000/">http://localhost:4000/</a></li>
</ul>
<h2 id="换主题"><a href="#换主题" class="headerlink" title="换主题"></a>换主题</h2><ul>
<li>官方提供:hexo-theme：<a href="https://hexo.io/themes/">https://hexo.io/themes/</a></li>
<li>我这里选用：<a href="https://github.com/mickeyouyou/yinwang">https://github.com/mickeyouyou/yinwang</a></li>
<li>cd themes</li>
<li>git clone <a href="https://github.com/mickeyouyou/yinwang">https://github.com/mickeyouyou/yinwang</a></li>
<li>修改hexo目录下的项目配置文件：<code>_config.yml</code>，把对应的主题目录名改下</li>
<li>重新生成：hexo generate</li>
<li>重启服务：hexo server</li>
</ul>
<h2 id="创建-Github-pages-并-SSH-授权"><a href="#创建-Github-pages-并-SSH-授权" class="headerlink" title="创建 Github pages 并 SSH 授权"></a>创建 Github pages 并 SSH 授权</h2><ul>
<li>生成密钥：ssh-keygen -t rsa -C “<a href="mailto:&#116;&#101;&#115;&#x74;&#x40;&#103;&#109;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#109;">&#116;&#101;&#115;&#x74;&#x40;&#103;&#109;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#109;</a>“</li>
<li>打开.ssh&#x2F;id_rsa.pub，复制文件中的所有内容。</li>
<li>访问：<a href="https://github.com/settings/ssh">https://github.com/settings/ssh</a><br>Title：随便<br>Key：把刚刚复制的都粘贴进来</li>
</ul>
<h3 id="把本地的博客内容同步到-Github-上"><a href="#把本地的博客内容同步到-Github-上" class="headerlink" title="把本地的博客内容同步到 Github 上"></a>把本地的博客内容同步到 Github 上</h3><ul>
<li>先安装两个跟部署相关的 hexo 插件：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo -server --save</span><br><span class="line">cnpm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li>
<li>配置hexo配置文件：<code>_config.yml</code><br>Docs: <a href="https://hexo.io/docs/configuration.html">https://hexo.io/docs/configuration.html</a></li>
</ul>
<h2 id="设置博客，注意：每个冒号后面都是有一个空格，然后再书写自己的内容的"><a href="#设置博客，注意：每个冒号后面都是有一个空格，然后再书写自己的内容的" class="headerlink" title="设置博客，注意：每个冒号后面都是有一个空格，然后再书写自己的内容的"></a>设置博客，注意：每个冒号后面都是有一个空格，然后再书写自己的内容的</h2><p>title: Acheron<br>subtitle: test</p>
<h2 id="URL要设置绑定域名的，这里写域名信息"><a href="#URL要设置绑定域名的，这里写域名信息" class="headerlink" title="URL要设置绑定域名的，这里写域名信息"></a>URL要设置绑定域名的，这里写域名信息</h2><p>url: <a href="http://blog.herohuang.com/">http://blog.herohuang.com</a><br>root: &#x2F;</p>
<h2 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h2><p>这里是重点，这里是修改发布地址，因为我们前面已经加了 SSH 密钥信息在 Github 设置里面了，所以只要我们电脑里面持有那两个密钥文件就可以无需密码地跟 Github 做同步。<br>需要注意的是这里的 repo 采用的是 ssh 的地址，而不是 https 的。分支我们默认采用 master 分支.<br>Docs: <a href="https://hexo.io/docs/deployment.html">https://hexo.io/docs/deployment.html</a><br>deploy:<br>  type: git<br>  repo: <a href="mailto:&#x67;&#105;&#116;&#x40;&#x67;&#x69;&#x74;&#104;&#117;&#x62;&#x2e;&#99;&#x6f;&#109;">&#x67;&#105;&#116;&#x40;&#x67;&#x69;&#x74;&#104;&#117;&#x62;&#x2e;&#99;&#x6f;&#109;</a>:Ac-heron&#x2F;acheron.github.io.git<br>  branch: master</p>
<ul>
<li>编辑全局配置后我们需要重新部署：</li>
<li>先清除掉已经生成的旧文件：hexo clean</li>
<li>再生成一次静态文件：hexo generate</li>
<li>在本地预览下：hexo server</li>
<li>使用部署命令部署到 Github 上：hexo deploy，有弹出下面提示框，请输入：yes<br>确认提交</li>
<li>访问服务器地址进行检查：<a href="http://ac-heron.github.io/">http://ac-heron.github.io</a></li>
</ul>
<p>但是，也不排除你 deploy 不了到 Github，报这个错误：Host key verification failed，那解决办法如下：<br>还是在 Git Bash 界面中，输入如下命令：ssh -T <a href="mailto:&#x67;&#105;&#116;&#x40;&#x67;&#105;&#116;&#x68;&#117;&#x62;&#46;&#x63;&#x6f;&#x6d;">&#x67;&#105;&#116;&#x40;&#x67;&#105;&#116;&#x68;&#117;&#x62;&#46;&#x63;&#x6f;&#x6d;</a>，根据界面提示，输入：yes 回车。之后你可以再试一下是否可以 deploy。<br>通过上面几次流程我们也就可以总结：以后，每次发表新文章要部署都按这样的流程来：<br>hexo clean<br>hexo generate<br>hexo deploy<br>也因为这几个命令太频繁了，所以又有了精简版的命令：<br>hexo clean &#x3D;&#x3D; hexo clean<br>hexo g &#x3D;&#x3D; hexo generate<br>hexo s &#x3D;&#x3D; hexo server<br>hexo d &#x3D;&#x3D; hexo deploy</p>
<h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><p>首先我们要一个 CNAME 文件(没有文件后缀），把该文件放在 <code>\hexo\source</code> 目录下，</p>
<ul>
<li>进入source目录：cd &#x2F;hexo&#x2F;source&#x2F;</li>
<li>新建一个CNAME文件：touch CNAME</li>
<li>打开CNAME，输入绑定的域名：vim CNAME<br>比如我是 blog.herohuang.com，：</li>
</ul>
<p>设置 CNAME 文件<br>接着我们需要到 DNSPOD 上设置域名解析：<a href="https://www.dnspod.cn/">https://www.dnspod.cn/</a><br>设置好之后，等过几分钟域名解析好之后</p>
<ul>
<li>主机记录：code</li>
<li>记录类型：CNAME</li>
<li>记录值：ac-heron.github.io.（后面的这个点别忘记了）</li>
<li>注意：要把CNAME文件再deploy到Github</li>
</ul>
<h2 id="我的文章方案"><a href="#我的文章方案" class="headerlink" title="我的文章方案"></a>我的文章方案</h2><p>我把我的博文myblogs全部放在source&#x2F;_posts&#x2F;目录下，myblogs提交到github管理，同时主题文件如下配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  首页: /</span><br><span class="line">  读书: /myblogs/read</span><br><span class="line">  书法: /myblogs/shufa</span><br><span class="line">  代码: /myblogs/code</span><br><span class="line">  生活: /myblogs/life</span><br><span class="line">  我是: /myblogs/about</span><br></pre></td></tr></table></figure>
<p>这样不用hexo的菜单，直接在myblogs下新建read.md等文件，当作菜单跳转的页面，read.md里自己做归纳整理。</p>
<h2 id="图片方案"><a href="#图片方案" class="headerlink" title="图片方案"></a>图片方案</h2><p>图片在myblogs&#x2F;year&#x2F;images下，这样能用typora本地访问，而远程访问只需要在hexo的source下新建images目录：source&#x2F;images。<br>把图片全部拷贝衣服到这个目录，这样hexo发布后在md中的图片引用images&#x2F;aaa.jpg也能直接识别到,完美。<br>拷贝图片：<br>进入目录Ac-heron.github.io&#x2F;source&#x2F;images<br>cp -r ..&#x2F;_posts&#x2F;myblogs&#x2F;<em>&#x2F;images&#x2F;</em> .</p>
<h2 id="hexo本身配置-config修改点"><a href="#hexo本身配置-config修改点" class="headerlink" title="hexo本身配置__config修改点"></a>hexo本身配置__config修改点</h2><p>标题：title: Herohuang’s Blog<br>文章路径直接指到title：permalink: :title&#x2F;<br>首页不分页：per_page:0</p>


<!--<a href="http://ac-heron.github.io/myblogs/2017/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<!-- <div style="display:none"> -->
<!-- <script src="http://s4.cnzz.com/stat.php?id=&web_id=" language="JavaScript"></script>script> -->
<!-- </div> -->




<!-- <script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script> -->
<!-- <script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script> -->

<script src="/js/jquery.min.js"></script>


<script src="/js/bootstrap.min.js"></script>







</body>
</html>