<html>
<head>
	
	<title>ECharts使用总结</title>
	<meta name="keywords" content="Acheron,blog,博客,代码,技术,书法,读书" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
    
        
<script src="/js/util.js"></script>

        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3"/>
    
    

<meta name="generator" content="Hexo 6.3.0"></head>

<body>


<h2 class="title">ECharts使用总结</h2>

<div style="text-align:center;margin-top: -10px;">
<div class="article-category">
<!-- 2015年12月31日 -->


<!--  -->
 </div>

</div>

<!-- <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ECharts%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93"><span class="toc-text">ECharts使用总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E6%96%87%E7%9B%AE%E5%BD%95"><span class="toc-text">本文目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%91%E5%AF%B9Echarts%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-text">我对Echarts的理解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Echarts%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"><span class="toc-text">Echarts的简单使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%87%86%E5%A4%87%E3%80%82"><span class="toc-text">一、准备。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%BC%95%E5%85%A5echarts-js"><span class="toc-text">二、引入echarts.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AEecharts%E8%B7%AF%E5%BE%84"><span class="toc-text">三、配置echarts路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%9B%BE%E8%A1%A8"><span class="toc-text">四、初始化图表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%95%88%E6%9E%9C%E5%9B%BE"><span class="toc-text">五、效果图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E8%A1%A8%E6%8B%96%E6%8B%BD"><span class="toc-text">图表拖拽</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%9B%BE%E8%81%94%E5%8A%A8"><span class="toc-text">多图联动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E8%BD%B4"><span class="toc-text">时间轴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E5%9B%BE%E5%8C%BA%E5%9F%9F"><span class="toc-text">地图区域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E5%90%88%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE"><span class="toc-text">结合百度地图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ajax%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE-%E9%87%8D%E7%82%B9"><span class="toc-text">Ajax动态加载数据 [重点]</span></a></li></ol></li></ol> -->
<h1 id="ECharts使用总结"><a href="#ECharts使用总结" class="headerlink" title="ECharts使用总结"></a>ECharts使用总结</h1><h2 id="本文目录"><a href="#本文目录" class="headerlink" title="本文目录"></a>本文目录</h2><p>[TOC]</p>
<h2 id="我对Echarts的理解"><a href="#我对Echarts的理解" class="headerlink" title="我对Echarts的理解"></a>我对Echarts的理解</h2><p>我对技术的理解是，一门技术，先会使用，再去理解，使用才是真正目的，理解只是更上一层楼，但不是强求的，技术只是工具而已，它不是知识。所以用Echarts实现图表的展现，其内部原理，实现机制，程序员根本不需要了解，我们要做的就是把数据扔给它，如何给它数据，一是直接在页面上写死（-_-……），二是访问图表页面的时候，程序从后台返回数据，前台页面取得数据后，在需要的地方填入即可，三是用Ajax的方式来动态加载数据，Ajax取得数据后，在返回后的succss方法里通过js脚本替换Echarts的option里的相关数据，当然还有其它方法，目的只有一个，把数据给它。</p>
<h2 id="Echarts的简单使用"><a href="#Echarts的简单使用" class="headerlink" title="Echarts的简单使用"></a>Echarts的简单使用</h2><h3 id="一、准备。"><a href="#一、准备。" class="headerlink" title="一、准备。"></a>一、准备。</h3><p>新建一个echarts_demo.html页面，在body中准备一个div，用于放置图表。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id=&quot;main&quot; style=&quot;width:800px;height:500px&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="二、引入echarts-js"><a href="#二、引入echarts-js" class="headerlink" title="二、引入echarts.js"></a>二、引入echarts.js</h3><p>在echarts_demo.html中，引入echarts,主要有两种方式，一种是模块化包引入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;http://echarts.baidu.com/build/dist/echarts.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>一种是单文件引入，在官网下载文件后，放在本地项目下，如下引入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;/js/echarts.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="三、配置echarts路径"><a href="#三、配置echarts路径" class="headerlink" title="三、配置echarts路径"></a>三、配置echarts路径</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    // 路径配置</span><br><span class="line">    require.config(&#123;</span><br><span class="line">        paths: &#123;</span><br><span class="line">            echarts: &#x27;http://echarts.baidu.com/build/dist&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="四、初始化图表"><a href="#四、初始化图表" class="headerlink" title="四、初始化图表"></a>四、初始化图表</h3><p>ECharts图表大部分要关心的是option的实现，这里以我的今年9月前的阅读数为例生成柱状图，代码如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    var option = &#123;</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">            data:[&#x27;2015年1-9月读书数&#x27;],</span><br><span class="line">            backgroundColor:&#x27;blue&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis : [</span><br><span class="line">            &#123;</span><br><span class="line">                type : &#x27;category&#x27;,</span><br><span class="line">                data : [&quot;1月&quot;,&quot;2月&quot;,&quot;...省略&quot;,&quot;8月&quot;,&quot;9月&quot;]</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        yAxis : [</span><br><span class="line">            &#123;</span><br><span class="line">                type : &#x27;value&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        series : [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;name&quot;:&quot;读书数&quot;,</span><br><span class="line">                &quot;type&quot;:&quot;bar&quot;,</span><br><span class="line">                &quot;data&quot;:[3, 4, 1,1,1,3,1,2,4],</span><br><span class="line">                itemStyle: &#123;</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        label : &#123;</span><br><span class="line">                            show: true,</span><br><span class="line">                            position: &#x27;top&#x27;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;;</span><br><span class="line">    // 为echarts对象加载数据 </span><br><span class="line">    myChart.setOption(option); </span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="五、效果图"><a href="#五、效果图" class="headerlink" title="五、效果图"></a>五、效果图</h3><p><img src="http://www.herohuang.com/wp-content/uploads/2015/09/2015.09.24_11h01m16s_002_.jpg" alt="2015read"></p>
<h2 id="图表拖拽"><a href="#图表拖拽" class="headerlink" title="图表拖拽"></a>图表拖拽</h2><h2 id="多图联动"><a href="#多图联动" class="headerlink" title="多图联动"></a>多图联动</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    title : &#123;</span><br><span class="line">        text: &#x27;金华企业类型&#x27;,</span><br><span class="line">        subtext: &#x27;企业分页&#x27;,</span><br><span class="line">        x:&#x27;center&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    tooltip : &#123;</span><br><span class="line">        trigger: &#x27;item&#x27;,</span><br><span class="line">        formatter: &quot;&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    legend: &#123;</span><br><span class="line">        orient : &#x27;vertical&#x27;,</span><br><span class="line">        x : &#x27;left&#x27;,</span><br><span class="line">        data:[&#x27;食品&#x27;,&#x27;药品&#x27;,&#x27;化妆品&#x27;,&#x27;保健品&#x27;,&#x27;器械&#x27;]</span><br><span class="line">    &#125;,</span><br><span class="line">    calculable : true,</span><br><span class="line">    series : [</span><br><span class="line">        &#123;</span><br><span class="line">            name:&#x27;访问来源&#x27;,</span><br><span class="line">            type:&#x27;pie&#x27;,</span><br><span class="line">            radius : &#x27;55%&#x27;,</span><br><span class="line">            center: [&#x27;50%&#x27;, 225],</span><br><span class="line">            data:[</span><br><span class="line">                &#123;value:335, name:&#x27;食品&#x27;&#125;,</span><br><span class="line">                &#123;value:310, name:&#x27;药品&#x27;&#125;,</span><br><span class="line">                &#123;value:234, name:&#x27;化妆品&#x27;&#125;,</span><br><span class="line">                &#123;value:135, name:&#x27;保健品&#x27;&#125;,</span><br><span class="line">                &#123;value:1548, name:&#x27;器械&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">option2 = &#123;</span><br><span class="line">    tooltip : &#123;</span><br><span class="line">        trigger: &#x27;axis&#x27;,</span><br><span class="line">        axisPointer : &#123;</span><br><span class="line">            type: &#x27;shadow&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    legend: &#123;</span><br><span class="line">        data:[&#x27;食品&#x27;,&#x27;药品&#x27;,&#x27;化妆品&#x27;,&#x27;保健品&#x27;,&#x27;器械&#x27;]</span><br><span class="line">    &#125;,</span><br><span class="line">    toolbox: &#123;</span><br><span class="line">        show : true,</span><br><span class="line">        orient : &#x27;vertical&#x27;,</span><br><span class="line">        y : &#x27;center&#x27;,</span><br><span class="line">        feature : &#123;</span><br><span class="line">            mark : &#123;show: true&#125;,</span><br><span class="line">            magicType : &#123;show: true, type: [&#x27;line&#x27;, &#x27;bar&#x27;, &#x27;stack&#x27;, &#x27;tiled&#x27;]&#125;,</span><br><span class="line">            restore : &#123;show: true&#125;,</span><br><span class="line">            saveAsImage : &#123;show: true&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    calculable : true,</span><br><span class="line">    xAxis : [</span><br><span class="line">        &#123;</span><br><span class="line">            type : &#x27;category&#x27;,</span><br><span class="line">            data : [&#x27;2011&#x27;,&#x27;2012&#x27;,&#x27;2013&#x27;,&#x27;2014&#x27;,&#x27;2015&#x27;]</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    yAxis : [</span><br><span class="line">        &#123;</span><br><span class="line">            type : &#x27;value&#x27;,</span><br><span class="line">            splitArea : &#123;show : true&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    grid: &#123;</span><br><span class="line">        x2:40</span><br><span class="line">    &#125;,</span><br><span class="line">    series : [</span><br><span class="line">        &#123;</span><br><span class="line">            name:&#x27;食品&#x27;,</span><br><span class="line">            type:&#x27;bar&#x27;,</span><br><span class="line">            stack: &#x27;总量&#x27;,</span><br><span class="line">            data:[320, 332, 301, 334, 390, 330, 320]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name:&#x27;药品&#x27;,</span><br><span class="line">            type:&#x27;bar&#x27;,</span><br><span class="line">            stack: &#x27;总量&#x27;,</span><br><span class="line">            data:[120, 132, 101, 134, 90, 230, 210]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name:&#x27;化妆品&#x27;,</span><br><span class="line">            type:&#x27;bar&#x27;,</span><br><span class="line">            stack: &#x27;总量&#x27;,</span><br><span class="line">            data:[220, 182, 191, 234, 290, 330, 310]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name:&#x27;保健品&#x27;,</span><br><span class="line">            type:&#x27;bar&#x27;,</span><br><span class="line">            stack: &#x27;总量&#x27;,</span><br><span class="line">            data:[150, 232, 201, 154, 190, 330, 410]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name:&#x27;器械&#x27;,</span><br><span class="line">            type:&#x27;bar&#x27;,</span><br><span class="line">            stack: &#x27;总量&#x27;,</span><br><span class="line">            data:[820, 932, 901, 934, 1290, 1330, 1320]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">myChart2 = echarts.init(document.getElementById(&#x27;main2&#x27;));</span><br><span class="line">myChart2.setOption(option2);</span><br><span class="line"></span><br><span class="line">myChart.connect(myChart2);</span><br><span class="line">myChart2.connect(myChart);</span><br><span class="line"></span><br><span class="line">setTimeout(function ()&#123;</span><br><span class="line">    window.onresize = function () &#123;</span><br><span class="line">        myChart.resize();</span><br><span class="line">        myChart2.resize();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,200)</span><br><span class="line">                    </span><br></pre></td></tr></table></figure>

<h2 id="时间轴"><a href="#时间轴" class="headerlink" title="时间轴"></a>时间轴</h2><h2 id="地图区域"><a href="#地图区域" class="headerlink" title="地图区域"></a>地图区域</h2><h2 id="结合百度地图"><a href="#结合百度地图" class="headerlink" title="结合百度地图"></a>结合百度地图</h2><h2 id="Ajax动态加载数据-重点"><a href="#Ajax动态加载数据-重点" class="headerlink" title="Ajax动态加载数据 [重点]"></a>Ajax动态加载数据 <code>[重点]</code></h2><p>用Ajax动态加载图表数据，后台以Json方式传过来一个map，需要的是把option里用到的静态数据替换为返回的Json数据，要换的数据主要是</p>
<blockquote>
<p><code>option.legend.data</code><br><code>option.xAxis.data</code><br><code>option.series.data</code></p>
</blockquote>
<p>后台传过来的数据一般如下格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> counts=&#123;</span><br><span class="line">     食品=[3, 5, 35, 15], </span><br><span class="line">     药品=[5, 3, 2, 8]</span><br><span class="line"> &#125;, </span><br><span class="line"> years=[2011, 2012, 2013, 2014, 2015],        </span><br><span class="line"> types=[</span><br><span class="line">     com.demo.bean.CorpType@16d63462,</span><br><span class="line">     com.demo.bean.CorpType@74728371,</span><br><span class="line">     com.demo.bean.CorpType@a13ab71</span><br><span class="line">     ]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>Ajax调用的代码如下，目的就是动态给相关属性设置值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">       url:&quot;/echarts/url&quot;, //访问后台取得Json数据路径</span><br><span class="line">       type:&quot;POST&quot;,</span><br><span class="line">       dataType:&quot;json&quot;,</span><br><span class="line">       async:false,</span><br><span class="line">       success:function(result)&#123;</span><br><span class="line">           var types=[];           </span><br><span class="line">           for(var i=0;i&lt;result.types.length;i++)&#123;</span><br><span class="line">               types.push(result.types[i].name);</span><br><span class="line">           &#125;</span><br><span class="line">           option.legend.data=types;</span><br><span class="line">           option.xAxis[0].data=result.years;</span><br><span class="line">           option.series=[];</span><br><span class="line">           for(var n in result.counts)&#123;</span><br><span class="line">               var new_series=&#123;</span><br><span class="line">                   type:&#x27;bar&#x27;,</span><br><span class="line">                   itemStyle: &#123;</span><br><span class="line">                   normal: &#123;</span><br><span class="line">                       label : &#123;</span><br><span class="line">                           show: true,</span><br><span class="line">                           position: &#x27;top&#x27;</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;&#125;;</span><br><span class="line">               new_series.name=n;</span><br><span class="line">               new_series.data=result.counts[n];  </span><br><span class="line">               option.series.push(new_series);</span><br><span class="line">           &#125;</span><br><span class="line">           myChart.hideLoading();</span><br><span class="line">           myChart.setOption(option);</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">   </span><br></pre></td></tr></table></figure>
<p>[完]</p>


<!--<a href="http://ac-heron.github.io/myblogs/2015/ECharts%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=&web_id=" language="JavaScript"></script>script>
</div>






</body>
</html>